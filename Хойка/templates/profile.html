<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="nav-buttons">
                <a href="/">–§–æ—Ä—É–º</a>
                <a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a>
                <a href="/support">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
            </div>
            {{if .Username}}
            <div class="user-panel">
                <span>{{.Username}}</span>
                <a href="/profile/{{.Username}}" class="profile-button">–ü—Ä–æ—Ñ–∏–ª—å</a>
                <form action="/logout" method="post" style="display: inline;">
                    <button type="submit">–í—ã–π—Ç–∏</button>
                </form>
            </div>
            {{else}}
            <div class="auth-buttons">
                <a href="/login" class="auth-button">–í–æ–π—Ç–∏</a>
                <a href="/register" class="auth-button">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </div>
            {{end}}
        </div>
    </div>

    <div class="container">
        <div class="profile-section">
            <div class="profile-header">
                <h1>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{.ProfileData.Username}}</h1>
                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-label">–°–æ–∑–¥–∞–Ω–æ —Ç–µ–º:</span>
                        <span class="stat-value">{{.ProfileData.TopicsCount}}</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–ù–∞–ø–∏—Å–∞–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:</span>
                        <span class="stat-value">{{.ProfileData.CommentsCount}}</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–†–µ–ø—É—Ç–∞—Ü–∏—è:</span>
                        <span class="stat-value">{{.ProfileData.Reputation}}</span>
                    </div>
                </div>
            </div>

            <div class="profile-content">
                <div class="recent-activity">
                    <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–µ–º—ã</h2>
                    {{range .ProfileData.RecentTopics}}
                    <div class="activity-item">
                        <a href="/topic?id={{.ID}}">{{.Title}}</a>
                        <span class="activity-date">{{.CreatedAt}}</span>
                    </div>
                    {{end}}
                </div>
            </div>

            <div class="profile-comments-section">
                <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ—Ñ–∏–ª—é</h2>
                {{range .ProfileComments}}
                <div class="profile-comment">
                    <div class="comment-content">{{.Content}}</div>
                    <div class="comment-meta">
                        <span class="author">üë§ <a href="/profile/{{.Author}}">{{.Author}}</a></span>
                        <span class="date">üìÖ {{.CreatedAt}}</span>
                    </div>
                </div>
                {{end}}

                {{if .Username}}
                <form action="/profile/{{.ProfileData.Username}}/comment" method="post" class="comment-form">
                    <textarea name="content" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –ø—Ä–æ—Ñ–∏–ª–µ..." required></textarea>
                    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</button>
                </form>
                {{else}}
                <p class="login-prompt">–ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, <a href="/login">–≤–æ–π–¥–∏—Ç–µ</a></p>
                {{end}}
            </div>
        </div>
    </div>
</body>
</html> 